---
title: "Context is King"
author: "Shannon Pileggi"
footer:  ""
logo: "images/pngtree_crown.png"
editor: source
format: 
  revealjs: 
    theme: [default, slides.scss]
    transition: fade
    slide-number: true
    margin: 0.1
execute:
  echo: true
  output: asis
  freeze: auto
---

# The setting {.inverse}

## An email

```{r}
#| echo: false
library(gtsummary)
library(gt)
source("nycflights-delay-demo.R")
```

. . .

<br>

Hi Shannon -

I see Travis is out on vacation.
Can you re-run the flight delay report?
Please walk us through the numbers at the next nycflights project meeting.

Thanks,

Sarah

Director of Flight Operations

## 

<iframe src="https://giphy.com/embed/7NoNw4pMNTvgc" width="480" height="480" style frameBorder="0" class="giphy-embed" allowFullScreen>

</iframe>

<p><a href="https://giphy.com/gifs/content-7NoNw4pMNTvgc">via GIPHY</a></p>

## Success ðŸŽ‰

<br>

```{r}
#| echo: false
t1_unlabelled <- flights_delay |>
  select(name, delay_category) |>
  tbl_summary(
    by = name
  ) |>  
  modify_header(all_stat_cols() ~ "**{level}**  <br>N = {style_number(n)}") 

t1_unlabelled
```

## The email

<br>

Hi Shannon -

I see Travis is out on vacation.
Can you re-run the flight delay report?
Please **walk us through the numbers** at the next nycflights project meeting.

Thanks,

Sarah

Director of Flight Operations

## Walk through the numbers

<br>

::: columns
::: column
```{r}
#| echo: false
t1_unlabelled |> 
  as_gt() |> 
  tab_style(
    style = list(
      cell_fill(color = "#FFFBC8")
      ),
    locations = cells_body(rows = 2, columns = "stat_1")
  )
```
:::

::: {.column .fragment .smallish}
<br> 

```{=html}
<style>
td, th {
   border: none!important;
}
</style>
```

56% of flights...

::: {.fragment}
&nbsp;&nbsp; departing from JFK departed early
:::


::: {.fragment}
&nbsp;&nbsp; arriving at JFK  arrived early  

<br>

:::
::: {.fragment .largest}
ðŸ˜¬ðŸ˜±
:::


:::
:::

## ðŸ”Ž {transition="fade"}

<br>

::: columns
::: column
```{r}
#| echo: false
t1_unlabelled|> 
  as_gt() |> 
  tab_style(
    style = list(
      cell_fill(color = "#FFFBC8")
      ),
    locations = cells_body(rows = 1, columns = "label")
  )
```
:::

::: {.column}
<img src="https://en.meming.world/images/en/1/17/Monkey_Puppet.jpg"/>
:::
:::

## 

![](images/travis_yolo.png)


## The journey to understand {background-image="images/pexels-pixabay-39868.jpg" background-size=30% background-repeat=no-repeat background-position=right}

<br>

1. Source data.


2. Downstream variables.


# Data <br> discoverability {.inverse}

## nycflights13

![](images/relational-nycflights.png)

::: foot
<https://r4ds.had.co.nz/relational-data.html>
:::

## data i work with

93 data frames

Between 31 - 116 columns, median 44

1,384 unique column names across 93 data frames

## Source data context

::: columns
::: column
`View(flights)`
![](images/flights_view_unlabelled.png)
:::

::: column
`?flights`
![](images/flights_help.png)
:::
:::

## Source data context

::: columns
::: column
`View(flights)`
![](images/flights_view_unlabelled.png)
:::

::: column
`External excel file`
![](images/flights_dictionary_excel.png)
:::
:::

## Source data context can and should be embedded in your data

![](images/flights_view_labelled.png)

# Data <br> stewardship {.inverse}

# Data <br> efficiency {.inverse}

# More {.inverse}



## Why aren't we doing this

History of labels and R

When did R/RStudio introduce this?

Learn from other languages (SAS, SPSS, Stata)

# Thank you {.inverse}

<br>

Thank you to the **many** individuals who provided feedback both the abstract submission and the development of this talk.
Your support was invaluable.

<br>

No Travis's were harmed in the making of this presentation.

# Photos

https://unsplash.com/photos/woman-wearing-black-jacket-sitting-on-gray-rock-and-using-binoculrs-dxFi8Ea670E

Photo by Pixabay from Pexels: https://www.pexels.com/photo/green-vines-39868/
https://www.pexels.com/photo/green-vines-39868/
